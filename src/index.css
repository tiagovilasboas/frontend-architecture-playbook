:root {
  /* Mantine já fornece resets e variáveis de tema */
}

/* Theme from single source (src/theme/colors.ts) */
[data-mantine-color-scheme='dark'] {
  --mantine-color-body: var(--app-body-dark) !important;
}

[data-mantine-color-scheme='dark'] body {
  background-color: var(--app-body-dark) !important;
}

[data-mantine-color-scheme='dark'] .mantine-Paper-root,
[data-mantine-color-scheme='dark'] .mantine-Card-root {
  background-color: var(--app-container-dark) !important;
  border-color: var(--app-border-dark) !important;
}

[data-mantine-color-scheme='light'] {
  --mantine-color-body: var(--app-body-light) !important;
}

[data-mantine-color-scheme='light'] body {
  background-color: var(--app-body-light) !important;
}

[data-mantine-color-scheme='light'] .mantine-Paper-root,
[data-mantine-color-scheme='light'] .mantine-Card-root {
  background-color: var(--app-container-light) !important;
  border-color: var(--app-border-light) !important;
}

/* Conteúdo principal removido: uso de Container Mantine */

/* Vertical rhythm: espaçamento moderado para reduzir scroll (UX) */
article > * + *,
section > * + * {
  margin-top: var(--mantine-spacing-sm);
}

article,
section {
  margin-top: var(--mantine-spacing-lg);
  margin-bottom: var(--mantine-spacing-lg);
}

.mantine-SimpleGrid-root,
.mantine-Grid-root,
.mantine-Stack-root > .mantine-SimpleGrid-root,
.mantine-Stack-root > .mantine-Grid-root {
  margin-top: var(--mantine-spacing-lg) !important;
  margin-bottom: var(--mantine-spacing-lg) !important;
}

/* Container principal com espaçamento vertical */
.mantine-Container-root {
  margin-top: var(--mantine-spacing-xl);
  margin-bottom: var(--mantine-spacing-xl);
}

/* Links – paleta neutral (dark: claro, light: escuro) */
a {
  color: var(--mantine-color-brand-6);
  text-decoration: none;
  font-weight: 500;
  transition: color 0.2s ease;
}

[data-mantine-color-scheme='dark'] a {
  color: var(--mantine-color-brand-1);
}

[data-mantine-color-scheme='dark'] a:hover {
  color: var(--mantine-color-brand-0);
}

a:hover {
  color: var(--mantine-color-brand-7);
}

a:focus {
  outline: 2px solid var(--mantine-color-brand-5);
  outline-offset: 2px;
  border-radius: 4px;
}

[data-mantine-color-scheme='dark'] a:focus {
  outline-color: var(--mantine-color-brand-4);
}

/* Links dentro de cards - estilo mais sutil */
.mantine-Card-root a,
.wizard-recommendation-card a {
  color: inherit;
  text-decoration: none;
  font-weight: inherit;
}

.mantine-Card-root a:hover,
.wizard-recommendation-card a:hover {
  color: inherit;
  text-decoration: none;
}

/* Sidebar específico */
.sidebar-nav {
  display: none;
  overflow: visible !important;
}

@media (min-width: 768px) {
  .sidebar-nav {
    display: block !important;
  }
}

/* Garantir que o conteúdo principal ocupe toda a largura em telas pequenas */
@media (max-width: 767px) {
  .sidebar-nav {
    display: none !important;
  }
}

/* ScrollArea do NavMenu - garantir overflow visible */
.mantine-ScrollArea-root {
  overflow: visible !important;
}

.mantine-ScrollArea-viewport {
  overflow: visible !important;
}

/* Header e Footer – bordas na paleta neutral */
.header-bar {
  border: none !important;
}

/* Logo "Front Arch. Playbook" – sem outline azul ao clicar/focar */
.header-logo-link:focus,
.header-logo-link:focus-visible {
  outline: none !important;
}

.footer-bar {
  border: none !important;
}

[data-mantine-color-scheme='dark'] .header-bar,
[data-mantine-color-scheme='dark'] .footer-bar {
  background-color: var(--app-header-footer-dark) !important;
}

[data-mantine-color-scheme='light'] .header-bar,
[data-mantine-color-scheme='light'] .footer-bar {
  background-color: var(--app-header-footer-light) !important;
}

/* Breadcrumb – topo do conteúdo, alinhado à esquerda, dark/light */
.app-breadcrumbs {
  display: flex;
  align-items: center;
  justify-content: flex-start;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.app-breadcrumbs .mantine-Breadcrumbs-root,
.app-breadcrumbs-list {
  display: flex;
  align-items: center;
  flex-wrap: wrap;
  gap: 2px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.app-breadcrumbs-link {
  display: inline-flex;
  align-items: center;
  color: var(--mantine-color-dimmed);
  text-decoration: none;
  transition: color 0.15s ease;
}

[data-mantine-color-scheme='dark'] .app-breadcrumbs-link {
  color: var(--mantine-color-brand-1);
}

.app-breadcrumbs-link:hover {
  color: var(--mantine-color-brand-6);
}

[data-mantine-color-scheme='dark'] .app-breadcrumbs-link:hover {
  color: var(--mantine-color-brand-0);
}

.app-breadcrumbs-separator {
  color: var(--mantine-color-dimmed);
  opacity: 0.7;
  margin: 0 6px;
  flex-shrink: 0;
}

[data-mantine-color-scheme='dark'] .app-breadcrumbs-separator {
  color: var(--mantine-color-brand-3);
  opacity: 0.9;
}

.app-breadcrumbs-current {
  color: var(--mantine-color-brand-6);
}

[data-mantine-color-scheme='dark'] .app-breadcrumbs-current {
  color: var(--mantine-color-brand-2);
}

/* Header desktop – botões do menu (Guias, Arquiteturas, etc.) – mesmas cores do sidebar */
.header-nav-btn {
  color: inherit;
  font-weight: 400;
}

[data-mantine-color-scheme='light'] .header-nav-btn {
  color: var(--mantine-color-brand-7) !important;
}

[data-mantine-color-scheme='light'] .header-nav-btn:hover,
[data-mantine-color-scheme='light'] .header-nav-btn[data-active='true'] {
  background: var(--app-nav-hover-bg-light) !important;
  color: var(--mantine-color-brand-9) !important;
  font-weight: 600;
}

[data-mantine-color-scheme='light'] .header-nav-btn[data-active='true'] {
  background: var(--app-nav-active-bg-light) !important;
}

[data-mantine-color-scheme='dark'] .header-nav-btn {
  color: var(--mantine-color-brand-2) !important;
}

[data-mantine-color-scheme='dark'] .header-nav-btn:hover,
[data-mantine-color-scheme='dark'] .header-nav-btn[data-active='true'] {
  background: var(--app-nav-hover-bg-dark) !important;
  color: var(--mantine-color-brand-2) !important;
  font-weight: 600;
}

[data-mantine-color-scheme='dark'] .header-nav-btn[data-active='true'] {
  background: var(--app-nav-active-bg-dark) !important;
  color: var(--mantine-color-brand-1) !important;
}

/* Dropdown do menu desktop – fundo e borda do tema */
.header-nav-dropdown {
  background-color: var(--mantine-color-body) !important;
  border-color: var(--mantine-color-brand-7) !important;
}

[data-mantine-color-scheme='light'] .header-nav-dropdown {
  border-color: var(--mantine-color-brand-3) !important;
}

.header-nav-dropdown .mantine-Menu-item {
  color: var(--mantine-color-text);
}

.header-nav-dropdown .mantine-Menu-item:hover {
  background: var(--app-nav-hover-bg-light) !important;
  color: var(--mantine-color-brand-8) !important;
}

[data-mantine-color-scheme='dark'] .header-nav-dropdown .mantine-Menu-item {
  color: var(--mantine-color-brand-1) !important;
}

[data-mantine-color-scheme='dark'] .header-nav-dropdown .mantine-Menu-item:hover {
  background: var(--app-nav-hover-bg-dark) !important;
  color: var(--mantine-color-brand-0) !important;
}

/* Dropdown Arquiteturas: 2 colunas para ficar mais compacto na horizontal */
.header-nav-dropdown-arch .header-nav-arch-items {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0 2px;
}

.header-nav-dropdown-arch .header-nav-arch-items .mantine-Menu-item {
  min-width: 0;
}

/* NavMenu – contraste melhor em hover e ativo */
.navmenu-link {
  transition: all 0.15s ease !important;
  padding-left: 6px !important;
  padding-right: 6px !important;
  margin-left: 2px !important;
  margin-right: 2px !important;
  position: relative !important;
  border-radius: 6px !important;
}

/* Tema Light – links legíveis */
[data-mantine-color-scheme='light'] .navmenu-link {
  color: var(--mantine-color-brand-7) !important;
}

[data-mantine-color-scheme='light'] .navmenu-link:hover,
[data-mantine-color-scheme='light'] .navmenu-link[data-active='true'] {
  background: var(--app-nav-hover-bg-light) !important;
  color: var(--mantine-color-brand-9) !important;
  transform: translateX(1px) !important;
}

[data-mantine-color-scheme='light'] .navmenu-link[data-active='true'] {
  background: var(--app-nav-active-bg-light) !important;
}

[data-mantine-color-scheme='light'] .navmenu-link:hover::before,
[data-mantine-color-scheme='light'] .navmenu-link[data-active='true']::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: -2px !important;
  right: -2px !important;
  bottom: 0 !important;
  background: var(--mantine-color-brand-6) !important;
  border-radius: 6px !important;
  z-index: -1 !important;
  opacity: 0.15 !important;
}

/* Tema Dark – contraste forte: texto claro, hover/ativo bem visíveis */
[data-mantine-color-scheme='dark'] .navmenu-link {
  color: var(--mantine-color-brand-2) !important;
}

[data-mantine-color-scheme='dark'] .navmenu-link:hover,
[data-mantine-color-scheme='dark'] .navmenu-link[data-active='true'] {
  background: var(--app-nav-hover-bg-dark) !important;
  color: var(--mantine-color-brand-2) !important;
  transform: translateX(1px) !important;
}

[data-mantine-color-scheme='dark'] .navmenu-link:hover::before,
[data-mantine-color-scheme='dark'] .navmenu-link[data-active='true']::before {
  content: '' !important;
  position: absolute !important;
  top: 0 !important;
  left: -2px !important;
  right: -2px !important;
  bottom: 0 !important;
  background: var(--mantine-color-brand-2) !important;
  border-radius: 6px !important;
  z-index: -1 !important;
  opacity: 0.2 !important;
}

[data-mantine-color-scheme='dark'] .navmenu-link[data-active='true'] {
  background: var(--app-nav-active-bg-dark) !important;
  color: var(--mantine-color-brand-1) !important;
}

[data-mantine-color-scheme='dark'] .navmenu-link[data-active='true']::before {
  opacity: 0.35 !important;
}

/* Cabeçalhos das seções do menu (Guias, Boas Práticas, etc.) – contraste no dark */
[data-mantine-color-scheme='dark'] .nav-menu-container .mantine-Accordion-control {
  color: var(--mantine-color-brand-2) !important;
}

[data-mantine-color-scheme='dark'] .nav-menu-container .mantine-Accordion-control:hover {
  background: var(--app-accordion-hover-bg-dark) !important;
  color: var(--mantine-color-brand-0) !important;
}

[data-mantine-color-scheme='light'] .nav-menu-container .mantine-Accordion-control:hover {
  background: var(--app-accordion-hover-bg-light) !important;
  color: var(--mantine-color-brand-9) !important;
}

[data-mantine-color-scheme='dark'] .nav-menu-container .mantine-Accordion-item {
  border-color: var(--mantine-color-brand-7) !important;
}

/* Project card hover effect */
.project-card:hover {
  transform: translateY(-4px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

[data-mantine-color-scheme='dark'] .project-card:hover {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

/* Comece Aqui – cards com hover sutil */
.comece-aqui-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
}

[data-mantine-color-scheme='dark'] .comece-aqui-card:hover {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

/* Conteúdo em Destaque – cards com hover sutil */
.destaque-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08);
}

[data-mantine-color-scheme='dark'] .destaque-card:hover {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);
}

@media (min-width: 768px) {
  .navmenu-link {
    min-height: 36px !important;
    padding-top: 4px !important;
    padding-bottom: 4px !important;
    align-items: flex-start !important;
    line-height: 1.3 !important;
  }
}

/* Mobile responsiveness - prevent horizontal scroll */
@media (max-width: 768px) {
  * {
    max-width: 100% !important;
    box-sizing: border-box !important;
  }

  html,
  body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  /* Garantir que o Drawer não bloqueie o scroll */
  .mantine-Drawer-root {
    overflow: visible !important;
  }

  .mantine-Drawer-content {
    overflow: visible !important;
  }

  .mantine-Drawer-body {
    overflow: visible !important;
    height: 100% !important;
  }

  /* ScrollArea específico dentro do Drawer */
  .mantine-Drawer-body .mantine-ScrollArea-root {
    height: calc(100vh - 120px) !important;
    overflow: auto !important;
  }

  .mantine-Drawer-body .mantine-ScrollArea-viewport {
    overflow: auto !important;
  }

  /* Menu mobile – sem bordas, sem espaço em volta */
  .mobile-nav-drawer .mantine-Drawer-header {
    padding: 4px 8px !important;
    min-height: 40px !important;
    background: var(--app-header-footer-dark) !important;
    border: none !important;
    color: var(--mantine-color-gray-0) !important;
    display: flex !important;
    justify-content: flex-end !important;
    align-items: center !important;
  }

  [data-mantine-color-scheme='light'] .mobile-nav-drawer .mantine-Drawer-header {
    background: var(--app-header-footer-light) !important;
    color: var(--mantine-color-dark-7) !important;
  }

  .mobile-nav-drawer .mantine-Drawer-header .mantine-Drawer-title {
    display: none !important;
  }

  .mobile-nav-drawer .mantine-Drawer-close {
    color: var(--mantine-color-gray-1) !important;
    margin: 0 !important;
  }

  .mobile-nav-drawer .mantine-Drawer-content {
    padding: 0 !important;
  }

  .mobile-nav-drawer .mantine-Drawer-body {
    padding: 0 !important;
    margin-top: 0px;
    overflow: visible !important;
    background: var(--mantine-color-body) !important;
  }

  .mobile-nav-scroll {
    padding: 0 !important;
  }

  .mobile-nav-accordion {
    gap: 0 !important;
  }

  .mobile-nav-accordion .mantine-Accordion-control {
    padding: 0px 8px !important;
    min-height: 34px !important;
  }

  .mobile-nav-accordion .mantine-Accordion-control:hover {
    background: var(--app-nav-hover-bg-dark) !important;
  }

  [data-mantine-color-scheme='light'] .mobile-nav-accordion .mantine-Accordion-control:hover {
    background: var(--app-nav-hover-bg-light) !important;
  }

  .mobile-nav-accordion .mantine-Accordion-control .mantine-Accordion-chevron {
    width: 18px;
    color: var(--mantine-color-dimmed);
  }

  .mobile-nav-accordion .mantine-Accordion-label {
    font-size: 14px !important;
    font-weight: 500 !important;
  }

  .mobile-nav-accordion .mantine-Accordion-content {
    padding: 0 !important;
  }

  .mobile-nav-accordion .mantine-Accordion-item {
    margin: 0 !important;
    padding: 0 !important;
    border: none !important;
  }

  .mobile-nav-accordion .mantine-Accordion-item + .mantine-Accordion-item {
    margin-top: 0 !important;
  }

  .mobile-nav-panel {
    padding: 0 8px 2px !important;
  }

  .mobile-nav-subgroup + .mobile-nav-subgroup {
    margin-top: 2px;
  }

  .mobile-nav-subgroup .mantine-Group-root {
    margin-bottom: 1px !important;
    padding-left: 0;
  }

  .mobile-nav-subgroup .mantine-Text-root {
    font-size: 11px !important;
    text-transform: uppercase;
    letter-spacing: 0.02em;
  }

  .mobile-nav-menu .navmenu-link {
    padding: 4px 8px !important;
    min-height: 36px !important;
    font-size: 13px !important;
    font-weight: 400 !important;
    width: 100% !important;
    border-radius: 6px !important;
    margin: 0 !important;
  }

  .mobile-nav-menu .navmenu-link .mantine-NavLink-section {
    min-width: 20px;
  }

  .mobile-nav-menu .navmenu-link .mantine-NavLink-section svg {
    width: 16px;
    height: 16px;
  }

  .mobile-nav-footer {
    margin-top: var(--mantine-spacing-xs);
    padding: var(--mantine-spacing-sm) var(--mantine-spacing-md);
    border-top: 1px solid var(--app-border-dark);
    display: flex;
    flex-direction: column;
    align-items: flex-start;
  }

  [data-mantine-color-scheme='light'] .mobile-nav-footer {
    border-top-color: var(--app-border-light);
  }

  .mobile-nav-footer-link {
    display: block;
    min-height: 40px;
    padding: 4px 0;
    text-decoration: none;
    border-radius: var(--mantine-radius-sm);
  }

  .mobile-nav-footer-link:hover {
    text-decoration: underline;
  }

  .mobile-nav-footer-links {
    width: 100%;
  }

  /* NavMenu container - scroll apenas no mobile */
  .nav-menu-container {
    height: calc(100vh - 120px) !important;
    overflow-y: auto !important;
  }
}

/* Desktop - sem scroll no NavMenu */
@media (min-width: 769px) {
  .nav-menu-container {
    height: auto !important;
    overflow-y: visible !important;
  }

  .mantine-Container-root {
    padding-left: var(--mantine-spacing-sm) !important;
    padding-right: var(--mantine-spacing-sm) !important;
    max-width: 100% !important;
    width: 100% !important;
  }

  .mantine-SimpleGrid-root,
  .mantine-Grid-root {
    width: 100% !important;
    max-width: 100% !important;
  }

  .mantine-Card-root,
  .mantine-Paper-root {
    max-width: 100% !important;
    width: 100% !important;
    overflow: hidden !important;
  }

  /* Code blocks specific mobile handling */
  pre {
    max-width: 100% !important;
    overflow-x: auto !important;
    white-space: pre-wrap !important;
    word-break: break-all !important;
  }
}

@media (max-width: 768px) {
  /* Breadcrumbs mobile */
  .mantine-Breadcrumbs-root {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .mantine-Breadcrumbs-root::-webkit-scrollbar {
    display: none;
  }
}
