---
---
<button id="theme-toggle" class="btn btn-sm btn-ghost ml-auto md:ml-0" aria-label="Alternar tema" title="Alternar tema">
    <span id="theme-icon">ðŸŒ—</span>
</button>

<script is:inline>
(function(){
  const html = document.documentElement;
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const stored = localStorage.getItem('theme');
  if(stored){ html.dataset.theme = stored; }
  else { html.dataset.theme = prefersDark ? 'night' : 'cerberus'; }

  const btn = document.getElementById('theme-toggle');
  const icon = document.getElementById('theme-icon');
  const toggle = () => {
    const current = html.dataset.theme || 'cerberus';
    const next = current === 'night' ? 'cerberus' : 'night';
    html.dataset.theme = next;
    localStorage.setItem('theme', next);
    icon.textContent = next === 'night' ? 'ðŸŒ™' : 'ðŸŒž';
  }
  btn?.addEventListener('click', toggle);
  // set initial icon
  icon.textContent = html.dataset.theme === 'night' ? 'ðŸŒ™' : 'ðŸŒž';
})();
</script>
--- 